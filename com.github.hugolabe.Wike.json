{
  "app-id" : "com.github.hugolabe.Wike",
  "runtime" : "org.gnome.Platform",
  "runtime-version" : "47",
  "sdk" : "org.gnome.Sdk",
  "command" : "wike",
  "finish-args" : [
    "--share=network",
    "--share=ipc",
    "--socket=fallback-x11",
    "--socket=wayland",
    "--socket=pulseaudio",
    "--device=dri"
  ],
  "modules" : [
    {
      "name": "xapian-core",
      "config-opts": [
        "--disable-sse",
        "--disable-backend-chert",
        "--disable-backend-remote",
        "--disable-documentation",
        "--enable-static"
      ],
      "sources": [
        {
          "type": "archive",
          "sha256": "bcbc99cfbf16080119c2571fc296794f539bd542ca3926f17c2999600830ab61",
          "url": "https://oligarchy.co.uk/xapian/1.4.27/xapian-core-1.4.27.tar.xz",
          "x-checker-data": {
            "type": "anitya",
            "project-id": 15919,
            "url-template": "https://oligarchy.co.uk/xapian/$version/xapian-core-$version.tar.xz"
          }
        }
      ]
    },
    {
      "name": "libzim",
      "buildsystem": "meson",
      "builddir": true,
      "config-opts": [
        "--wrap-mode=nodownload",
        "-Dtest_data_dir=none",
        "-Dexamples=false"
      ],
      "cleanup": [
        "/bin",
        "/include",
        "/lib/pkgconfig"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/openzim/libzim.git",
          "tag": "9.2.3",
          "commit": "398a3c25059ee0ec7e2987d6af336d67dd681ba1",
          "x-checker-data": {
            "type": "anitya",
            "project-id": 20193,
            "tag-template": "$version"
          }
        }
      ]
    },
    {
      "name": "python3-libzim",
      "buildsystem": "simple",
      "build-options": {
        "env": [
          "DONT_DOWNLOAD_LIBZIM=1",
          "USE_SYSTEM_LIBZIM=1"
        ]
      },
      "build-commands": [
        "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \".\" --no-build-isolation"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/TheEvilSkeleton/python-libzim/archive/refs/tags/3.6.0-random-entry.tar.gz",
          "sha256": "af6d219af6c3c4154ec3396affa2ec0a15cc7d1427ec3b3b8e59ac665aa04548"
        }
      ]
    },
    {
      "name": "python3-beautifulsoup4",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"beautifulsoup4\" --no-build-isolation"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/f9/49/6abb616eb3cbab6a7cca303dc02fdf3836de2e0b834bf966a7f5271a34d8/beautifulsoup4-4.13.3-py3-none-any.whl",
          "sha256": "99045d7d3f08f91f0d656bc9b7efbae189426cd913d830294a15eefa0ea4df16"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/d1/c2/fe97d779f3ef3b15f05c94a2f1e3d21732574ed441687474db9d342a7315/soupsieve-2.6-py3-none-any.whl",
          "sha256": "e72c4ff06e4fb6e4b5a9f0f55fe6e81514581fca1515028625d0f299c602ccc9"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/26/9f/ad63fc0248c5379346306f8668cda6e2e2e9c95e01216d2b8ffd9ff037d0/typing_extensions-4.12.2-py3-none-any.whl",
          "sha256": "04e5ca0351e0f3f85c6853954072df659d0d13fac324d0072316b67d7794700d"
        }
      ]
    },
    {
      "name" : "wike",
      "buildsystem" : "meson",
      "builddir" : true,
      "run-tests" : true,
      "sources" : [
        {
          "type" : "dir",
          "path" : "."
        }
      ]
    }
  ]
}
